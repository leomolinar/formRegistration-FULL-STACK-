<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
</head>
<body>
    <div class='w-50 p-3 border rounded'>
        <h1>Registration</h1><br>

        <% if(typeof alert != 'undefined') { %>
            <% alert.forEach(function(error) { %>
                <div class="alert alert-warning alert-dismissible fade show" role="alert" style="display: block;" onclick="hide_message(event)">
                    <%= error.msg %>
                    <button type="button" class="btn-close btn-close-black" data-dismiss="alert" aria-label="Close"></button>
                  </div>
            <% }) %>
        <% } %>

        <form action="/register" method="POST">
            <div class='form-group'>
                <p class="h6" style="font-size:15px">E-mail</p>
                <input type='text' class="form-control" placeholder='name@example.com' name='email_register' id='email_register' maxlength="50" oninput="email_typing()">
            </div >
            <div class='form-group'>
                <br>
                <p for='email_register_confirmation' class="h6" style="font-size:15px">Confirm your e-mail</p>
                <input type='text' class="form-control" placeholder='name@example.com' name='email_register_confirmation' id='email_register_confirmation' maxlength="50" oninput="email_confirmation_typing()">
                <div style='display: none; margin-bottom: 10px;' id='warning_email_confirmation'>
                    <svg width='18px' height='18px' viewBox="0 0 24 24" fill='red'>
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path>
                    </svg>
                    <span class='text-danger' style='font-size:small;'>E-mail addresses are not matching.</span><br>
                </div>
            </div>
            <div class='form-group'>
                <br>
                <p class="h6" style="font-size:15px">Choose a username</p>
                <input type='text' class="form-control" placeholder='Username' name='username_register' id='username_register' minlength="6" maxlength="30" oninput="username_typing()">
                <div style='display: none; margin-bottom: 10px;' id='warning_username'>
                    <svg width='18px' height='18px' viewBox="0 0 24 24" fill='red'>
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path>
                    </svg>
                    <span class='text-danger' style='font-size:small;'>Username must have at least 6 characters.</span><br>
                </div>
            </div>
            <div class='form-group'>
                <br>
                <p class="h6" style="font-size:15px">Choose a password</p>
                <input type='password' class="form-control" placeholder='Password' name='password_register' id='password_register' minlength="6" maxlength="30" oninput="password_typing()">
            </div>
            <div class='form-group'>
                <br>
                <p class="h6" style="font-size:15px">Confirm your password</p>
                <input type='password' class="form-control" placeholder='Password' name='password_register_confirmation' id='password_register_confirmation' minlength="6" maxlength="30" oninput="password_confirmation_typing()">
                <div style='display: none; margin-bottom: 10px;' id='warning_password_confirmation'>
                    <svg width='18px' height='18px' viewBox="0 0 24 24" fill='red'>
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path>
                    </svg>
                    <span class='text-danger' style='font-size:small;'>Passwords are not matching.</span><br>
                </div><br><br>
            </div>
            <button type='submit' class='btn btn-primary' id='submit_register_btn'>Submit registration</button>
            <a>&nbsp;&nbsp;&nbsp;&nbsp;</a>
            <a href = '/' id='link_to_login'>Already a user? Login here</a>
        </form>
    </div>
    <script type="text/javascript" src='../static/script.js'></script>
</body>
</html>